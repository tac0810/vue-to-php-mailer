!function(t){function e(e){for(var n,i,u=e[0],l=e[1],s=e[2],f=0,p=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(c&&c(e);p.length;)p.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,u=1;u<r.length;u++){var l=r[u];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},o={0:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var c=l;a.push([21,1]),r()}({18:function(t){t.exports=JSON.parse('{"a":[{"label":"お問い合わせ項目","key":"select_1","type":"select","require":true,"options":{"data":[{"label":"選択してください","value":null},{"label":"SELECT0","value":"you chose SELECT0"},{"label":"SELECT1","value":"you chose SELECT1"},{"label":"SELECT2","value":"you chose SELECT2"},{"label":"SELECT3","value":"you chose SELECT3"}]}},{"label":"会社名","key":"org_name","placeholder":"placeholder","type":"text","require":true},{"label":"所属部署","key":"department","placeholder":"教育部","type":"text"},{"label":"氏名（全角）","key":"name","placeholder":"山田 太郎","validation":"PAT_ZENKAKU","type":"text","require":true},{"label":"氏名フリガナ（全角カナ）","key":"name_kana","placeholder":"ヤマダ タロウ","type":"text","validation":"PAT_KATAKANA","require":true},{"label":"メールアドレス（半角英数字）","key":"mail","placeholder":"sample@example.com","type":"email","validation":"PAT_EMAIL","require":true},{"label":"メールアドレス確認（半角英数字）","key":"re_mail","placeholder":"sample@example.com","type":"email","validation":"PAT_EMAIL","require":true,"options":{"re_enter":"mail"},"errorMsg":["入力されていません","一致しません"]},{"label":"電話番号（半角数字）","key":"tel","placeholder":"09012345678","type":"tel","validation":"PAT_PHONENUMBER"},{"label":"お問い合わせ内容","key":"content","placeholder":"入力してください","type":"textarea","require":true,"options":{"rows":10,"cols":80}}]}')},21:function(t,e,r){"use strict";r.r(e);r(22);var n=r(4),o=r(20),a=n.a.start(),i=r(25);a.load(Object(o.a)(i))},22:function(t,e,r){"use strict";(function(t){r(23);var e=r(17),n=r.n(e),o=r(6),a=r.n(o);(n.a.polyfill(),console.log("%cBUILT AT "+new Date(t.env.TIME_STAMP),"color: #B3E5FC;background-color: #03A9F4;border:6px solid #03A9F4;"),"IE"===a.a.name)&&document.querySelector("html").classList.add("is-ie");-1!==a.a.os.toString().toLowerCase().indexOf("win")&&document.querySelector("html").classList.add("is-windows")}).call(this,r(2))},23:function(t,e){window.isSet=function(t){"use strict";return null!=t},Math.randomRange=Math.randomRang||function(t,e){return Math.floor(Math.random()*(e-t)+t)},Math.log2=Math.log2||function(t){return Math.log(t)/Math.LN2},Math.degToRad=Math.degToRad||function(t){return t*Math.PI/180},Array.prototype.random=Array.prototype.random||function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.chunk=Array.prototype.chunk||function(t){if(1>=t)return[this];for(var e=[],r=0;r<this.length;r+=t)e.push(this.slice(r,r+t));return e},Array.prototype.last=Array.prototype.last||function(){return this[this.length-1]},Number.prototype.zfill=Number.prototype.zfill||function(t){if(t<=1)return String(this);for(var e=t;e--;)"0";return("00"+Math.abs(this)).slice(-t)},String.prototype.ucfirst=String.prototype.ucfirst||function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.hiraganaToKatagana=String.prototype.hiraganaToKatagana||function(){return this.replace(/[\u3041-\u3096]/g,function(t){return String.fromCharCode(t.charCodeAt(0)+96)})},String.prototype.katakanaToHiragana=String.prototype.katakanaToHiragana||function(){return this.replace(/[\u30a1-\u30f6]/g,function(t){return String.fromCharCode(t.charCodeAt(0)-96)})},String.prototype.toUpperCaseInJapanese=String.prototype.toUpperCaseInJapanese||function(){var t="",e={"ァ":"ア","ィ":"イ","ゥ":"ウ","ェ":"エ","ォ":"オ","ヵ":"カ","ヶ":"ケ","ッ":"ツ","ャ":"ヤ","ュ":"ユ","ョ":"ヨ","ヮ":"ワ"},r=/[\u30a1\u30a3\u30a5\u30a7\u30a9\u30f5\u30f6\u30c3\u30e3\u30e5\u30e7\u30ee]/g;return this.split("").forEach(function(n){var o=n.match(r);t+=o?e[o]:n}),t},String.prototype.unicodeEscape=String.prototype.unicodeEscape||function(){var t,e={1:"\\u000",2:"\\u00",3:"\\u0",4:"\\u"};return this.replace(/\W/g,function(r){return e[(t=r.charCodeAt(0).toString(16)).length]+t})},String.prototype.unicodeUnEscape=String.prototype.unicodeUnEscape||function(){for(var t=this.match(/\\u.{4}/g),e="",r=0;r<t.length;r++)e+=String.fromCharCode(arrs[r].replace("\\u","0x"));return e}},25:function(t,e,r){var n={"./_controller.js":5,"./form_controller.js":46};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id=25},46:function(t,e,r){"use strict";r.r(e);var n=r(5),o=r(19),a=r.n(o),i=(r(26),r(7)),u=r.n(i);function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e){var r=e.label,n=e.key,o=e.placeholder,a=e.type,i=e.validation,u=e.options,l=e.require,s=e.errorMsg;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.label=r||null,this.key=n||"__KEY__",this.placeholder=o||null,this.type=a||"text",this.validation=i||null,this.options=u||{},this.require=l||!1,this.errorMsg=s||["入力されていません","形式が違います"]}var e,r,n;return e=t,(r=[{key:"isRequired",value:function(){return null!==this.validation}},{key:"getCols",value:function(){return"textarea"===this.type&&this.options.cols?this.options.cols:0}},{key:"getRows",value:function(){return"textarea"===this.type&&this.options.rows?this.options.rows:0}},{key:"getOptions",value:function(){return"select"===this.type&&this.options.data?this.options.data:[]}},{key:"getRadios",value:function(){return"radio"===this.type&&this.options.data?this.options.data:[]}},{key:"setOptions",value:function(t){"select"===this.type&&(this.options.data=t)}}])&&l(e.prototype,r),n&&l(e,n),t}();function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=function(){var t,e,r;function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.value=t.value,this.key=t.key,this.isValid=t.isValid}return t=n,r=[{key:"between",value:function(t,e,r){var n=String(t).length;return e<=n&&n<=r}},{key:"minLength",value:function(t,e){return e<=String(t).length}},{key:"maxLength",value:function(t,e){return String(t).length<=e}},{key:"pattern",value:function(t,e){return e.test(t)}},{key:"isEmpty",value:function(t){return""!==t&&null!==t}},{key:"PAT_NUMBER",get:function(){return/^[0-9]+$/}},{key:"PAT_EMAIL",get:function(){return/^[0-9,A-Z,a-z][0-9,a-z,A-Z,_,\.,\-,\+]+@[0-9,A-Z,a-z][0-9,a-z,A-Z,\.,\-]+\.[a-z]+$/}},{key:"PAT_ALPHABET",get:function(){return/^[a-zA-Z]+$/}},{key:"PAT_ALPHANUMERIC",get:function(){return/^[0-9A-Za-z]+$/}},{key:"PAT_ZENKAKU",get:function(){return/^[^\x01-\x7E\xA1-\xDF]+$/}},{key:"PAT_KATAKANA",get:function(){return/^[ァ-ヶー　]*$/}},{key:"PAT_KANA",get:function(){return/^ぁ-ん/}},{key:"PAT_PHONENUMBER_WITH_HYPHEN",get:function(){return/^\d{2,4}\-?\d{2,4}\-?\d{2,4}$/}},{key:"PAT_PHONENUMBER",get:function(){return/^(0{1}\d{1,4}-{0,1}\d{1,4}-{0,1}\d{4})$/}},{key:"PAT_ZIPCODE",get:function(){return/^\d{3}-\d{4}$/}}],(e=null)&&c(t.prototype,e),r&&c(t,r),n}(),p={name:"CustomInput",props:{value:{default:""},formElement:{type:s,require:!0}},created:function(){this.formValue.label=this.formElement.label},methods:{checkTheValue:function(t){var e=null===this.formElement.validation||f.pattern(t,this.formElement.validation),r=!this.formElement.require||f.isEmpty(t);this.formElement.options.re_enter&&(e=this.$parent.$refs["CustomInput-".concat(this.formElement.options.re_enter)][0].formValue.value===t),this.formValue.value=t,this.formValue.key=this.formElement.key,this.formElement.require||""!==t?(this.formValue.isValid=e&&r,this.errorMsg=r?e?"":this.formElement.errorMsg[1]:this.formElement.errorMsg[0]):(this.formValue.isValid=!0,this.errorMsg="")},updateValue:function(t){this.checkTheValue(t.target.value,t.type),this.$emit("blur",this.formValue),this.$emit("input",this.formValue),this.$emit("change",this.formValue)}},data:function(){return{errorMsg:"",formValue:{label:"",value:"",key:"",require:!1,isValid:!1}}}},m=r(3),h=Object(m.a)(p,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:"c-custom-input"},["select"===t.formElement.type?r("label",{staticClass:"c-custom-input__select-wrap",attrs:{for:"custom-input-"+t.formElement.key}},[r("select",{class:"c-custom-input__select "+(null===t.value.value||""===t.value.value?"is-default":null),attrs:{name:t.formElement.key,id:"custom-input-"+t.formElement.key},domProps:{value:t.value.value},on:{change:t.updateValue}},t._l(t.formElement.getOptions(),function(e,n){return r("option",{key:"{_uid}-option-"+n,attrs:{disabled:null===e.value},domProps:{value:e.value}},[t._v("\n        "+t._s(e.label)+"\n      ")])}),0)]):"textarea"===t.formElement.type?r("label",{attrs:{for:"custom-input-"+t.formElement.key}},[r("textarea",{staticClass:"c-custom-input__textarea",attrs:{id:"custom-input-"+t.formElement.key,cols:t.formElement.getCols(),rows:t.formElement.getRows(),placeholder:t.formElement.placeholder,wrap:"hard"},domProps:{value:t.value.value},on:{blur:t.updateValue,input:t.updateValue}})]):"radio"===t.formElement.type?r("span",t._l(t.formElement.getRadios(),function(e,n){return r("label",{key:"{_uid}-radio-"+n,attrs:{for:"{_uid}-radio-"+n}},[r("input",{staticClass:"c-custom-input__radio",attrs:{id:"{_uid}-radio-"+n,type:t.formElement.type,name:t.formElement.key},domProps:{value:e.value},on:{change:t.updateValue}}),t._v(" "),r("span",{staticClass:"radio-wrap"},[r("span",{staticClass:"radio-ui"}),t._v(" "),r("span",{staticClass:"radio-label"},[t._v(t._s(e.label))])])])}),0):r("label",{attrs:{for:"custom-input-"+t.formElement.key}},[r("input",{staticClass:"c-custom-input__input",attrs:{id:"custom-input-"+t.formElement.key,type:t.formElement.type,placeholder:t.formElement.placeholder},domProps:{value:t.value.value},on:{blur:t.updateValue,input:t.updateValue}})]),t._v(" "),""!==t.errorMsg?r("p",{staticClass:"form-error-msg u-text-red-2"},[t._v("\n    "+t._s(t.errorMsg)+"\n  ")]):t._e()])},[],!1,null,"6b670d6c",null).exports,d=r(18).a.map(function(t){return(null==t?void 0:t.validation)&&(t.validation=f[null==t?void 0:t.validation]),new s(t)}),y={name:"Form",created:function(){var t=this;this.formList=d,this.formList.forEach(function(e,r){t.formValues[r]={label:e.label,value:"",key:e.key,require:e.require,isValid:!e.require}})},methods:{confirm:function(){var t=this;this.validAll=!0,Object.keys(this.$refs).filter(function(t){return/^CustomInput/.test(t)}).forEach(function(e,r){(t.formValues[r].require||t.formValues[r].value)&&t.$refs[e][0].checkTheValue(t.formValues[r].value),t.formValues[r].isValid||(t.validAll=!1)}),this.validAll&&(this.mode="confirm")},back:function(){this.mode="input"},send:function(){var t=this,e="";this.formValues.some(function(t){if("mail"===t.key)return e=t.value,!0});var r=new URLSearchParams;r.append("csrf_token",document.getElementById("csrf-token").value),r.append("mail",e),r.append("body",JSON.stringify(this.formValues)),u.a.defaults.headers["X-CSRF-TOKEN"]=document.getElementById("csrf-token").value,u()({method:"post",url:"/api/mail/send.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r}).then(function(e){t.mode="complete",console.log(e.data)}).catch(function(t){console.log(t)})}},data:function(){return{formList:[],formValues:[],validAll:!0,mode:"input"}},components:{CustomInput:h}},v=Object(m.a)(y,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"vue-form"}},[r("transition",{attrs:{name:"fade"}},["input"===t.mode?r("form",{key:"input",attrs:{id:"form-input"},on:{submit:function(e){return e.preventDefault(),t.confirm(e)}}},[r("table",{staticClass:"table-group white"},t._l(t.formList,function(e,n){return r("tr",{key:t.mode+"-"+e.key,staticClass:"table-list"},[r("th",[t._v("\n            "+t._s(e.label)+"\n            "),e.require?r("span",{staticClass:"form-require-label"},[t._v("※")]):t._e()]),t._v(" "),r("td",[r("CustomInput",{ref:"CustomInput-"+e.key,refInFor:!0,attrs:{formElement:e},model:{value:t.formValues[n],callback:function(e){t.$set(t.formValues,n,e)},expression:"formValues[index]"}})],1)])}),0),t._v(" "),r("button",{staticClass:"btn btn-more r-fonts white rect has-border",attrs:{type:"submit"}},[r("span",[t._v("SUBMIT - NEXT STEP")])])]):t._e(),t._v(" "),"confirm"===t.mode?r("form",{key:"confirm",attrs:{id:"form-confirm"},on:{submit:function(e){return e.preventDefault(),t.send(e)}}},[r("table",{staticClass:"table-group white"},t._l(t.formValues,function(e){return r("tr",{key:e.key,staticClass:"table-list"},[r("th",[t._v(t._s(e.label))]),t._v(" "),r("td",[r("pre",[t._v(t._s(e.value))])])])}),0),t._v(" "),r("button",{staticClass:"btn btn-more r-fonts white rect has-border has-arrow",attrs:{type:"submit"}},[r("span",[t._v("SUBMIT - NEXT STEP")])]),t._v(" "),r("button",{staticClass:"btn btn-more r-fonts white rect has-border back",attrs:{type:"button"},on:{click:t.back}},[r("span",[t._v("BACK")])])]):t._e(),t._v(" "),"complete"===t.mode?r("div",{key:"complete",attrs:{id:"form-complete"}},[r("div",{staticClass:"block-body"},[r("p",[t._v("THANK YOU FOR YOUR MESSAGE")])]),t._v(" "),r("footer",{staticClass:"block-foot"},[r("a",{attrs:{href:"/"}},[r("span",[t._v("BACK")])])])]):t._e()])],1)},[],!1,null,null,null).exports;function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.d(e,"default",function(){return A});var A=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,E(e).apply(this,arguments))}var r,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,n["default"]),r=e,(o=[{key:"connect",value:function(){new a.a({el:"#vue-form",components:{Form:v},template:"<Form/>"})}}])&&g(r.prototype,o),i&&g(r,i),e}()},5:function(t,e,r){"use strict";r.r(e),r.d(e,"default",function(){return l});var n=r(4);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,i(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n["b"]),e}()}});